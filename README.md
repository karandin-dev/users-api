üöÄ –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏
–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è	–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
Go 1.22+	–æ—Å–Ω–æ–≤–Ω–æ–π —è–∑—ã–∫
Gin Web Framework	—Ä–æ—É—Ç–∏–Ω–≥ –∏ HTTP-—Å–µ—Ä–≤–µ—Ä
PostgreSQL 14+	—Ö—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∞–Ω–Ω—ã—Ö
sqlx	—Ä–∞–±–æ—Ç–∞ —Å –ë–î —á–µ—Ä–µ–∑ —É–¥–æ–±–Ω—ã–µ –±–∏–Ω–¥–∏–Ω–≥–∏
Docker (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)	–∑–∞–ø—É—Å–∫ –ë–î
pgAdmin / psql	–ø—Ä–æ—Å–º–æ—Ç—Ä –¥–∞–Ω–Ω—ã—Ö
üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
users-api/
‚îÇ
‚îú‚îÄ‚îÄ cmd/
‚îÇ   ‚îî‚îÄ‚îÄ main.go          # –∑–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ
‚îú‚îÄ‚îÄ internal/
‚îÇ   ‚îî‚îÄ‚îÄ users/
‚îÇ       ‚îú‚îÄ‚îÄ handler.go   # HTTP-—Ä–æ—É—Ç—ã –∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
‚îÇ       ‚îú‚îÄ‚îÄ service.go   # –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îÇ       ‚îú‚îÄ‚îÄ storage.go   # SQL-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π (PostgreSQL)
‚îÇ       ‚îî‚îÄ‚îÄ model.go     # —Å—Ç—Ä—É–∫—Ç—É—Ä—ã User –∏ UpdateUserInput
‚îÇ
‚îú‚îÄ‚îÄ go.mod
‚îî‚îÄ‚îÄ go.sum

üóÑÔ∏è SQL —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞–±–ª–∏—Ü—ã
CREATE TABLE users (
    id SERIAL PRIMARY KEY,
    name TEXT NOT NULL,
    email TEXT NOT NULL,
    age INT NOT NULL
);

‚ñ∂Ô∏è –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–µ–∫—Ç
1. –ó–∞–ø—É—Å—Ç–∏—Ç—å PostgreSQL

–í–∞—Ä–∏–∞–Ω—Ç 1: –ª–æ–∫–∞–ª—å–Ω–æ

psql -U postgres


–í–∞—Ä–∏–∞–Ω—Ç 2: Docker

docker run --name users-db -p 5432:5432 -e POSTGRES_PASSWORD=postgres -d postgres

2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Å—Ç—Ä–æ–∫—É –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

–í cmd/main.go:

dsn := "host=localhost port=5432 user=postgres password=postgres dbname=usersdb sslmode=disable"

3. –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
go run ./cmd


–°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –Ω–∞:

http://localhost:8080

üì° API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã
‚ûï –°–æ–∑–¥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
POST /users


Body:

{
  "name": "Sasha",
  "email": "s@example.com",
  "age": 33
}

üìÑ –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
GET /users

üîé –ü–æ–ª—É—á–∏—Ç—å –æ–¥–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
GET /users/:id

‚úèÔ∏è –û–±–Ω–æ–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
PATCH /users/:id


Body (—á–∞—Å—Ç–∏—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ):

{
  "email": "new@mail.com"
}

‚ùå –£–¥–∞–ª–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
DELETE /users/:id

‚≠ê –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

–ß–∏—Å—Ç–∞—è —Ç—Ä—ë—Ö—Å–ª–æ–π–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞: handler ‚Üí service ‚Üí storage

storage —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–Ω—ã–µ SQL-–∑–∞–ø—Ä–æ—Å—ã

–±–µ–∑–æ–ø–∞—Å–Ω—ã–π UPDATE —á–µ—Ä–µ–∑ partial update struct

–∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ª–µ–≥–∫–æ –∑–∞–º–µ–Ω–∏—Ç—å storage (–Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–∞ mock –∏–ª–∏ in-memory)
